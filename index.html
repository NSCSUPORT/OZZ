<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HoloFi - Pagamento PIX</title>
    <link rel="icon" href="https://nscsuport.github.io/OZZ/z.png" type="image/x-icon">
    <style>
        /* Your CSS from above */
    </style>
</head>
<body>
    <h1>Pagamento PIX - HoloFi</h1>
    <div class="container">
        <div class="form-group">
            <label for="investment-value">Valor do Investimento</label>
            <div style="display: flex; align-items: center; gap: 10px;">
                <input type="number" id="investment-value" placeholder="Digite o valor investido" min="1" step="0.01" required style="flex: 1;">
                <select id="currency" required>
                    <option value="BRL" selected>R$ (BRL)</option>
                    <option value="USD">$ (USD)</option>
                    <option value="EUR">€ (Euro)</option>
                    <option value="BTC">₿ (BTC)</option>
                    <option value="ETH">Ξ (ETH)</option>
                    <option value="SOL">◎ (Solana)</option>
                </select>
            </div>
        </div>

        <div class="form-group">
            <label for="profit">Lucro Esperado (%)</label>
            <input type="number" id="profit" placeholder="Digite o lucro em %" min="1" max="1000" value="100" required>
        </div>

        <div class="form-group">
            <label for="giminiosidade">Giminiosidade (%)</label>
            <input type="number" id="giminiosidade" placeholder="Digite a giminiosidade em %" min="1" max="10000" value="1" required>
        </div>

        <div class="form-group">
            <label for="pix-key">Chave PIX de Cobrança</label>
            <input type="text" id="pix-key" placeholder="Insira a chave PIX" required>
        </div>

        <div class="buttons-group">
            <button class="btn-green" id="generate-code-btn">Gerar Código PIX</button>
            <button class="btn-red" id="confirm-btn">Confirmar Compra</button>
        </div>

        <div class="qr-code-container" id="qrcode-container">
            <p>Aguardando geração de código...</p>
        </div>
    </div>

    <footer>
        <p>© 2025 HoloFi @lucasjanuarior14 | Todos os direitos reservados.</p>
    </footer>

    <script src="https://cdn.rawgit.com/davidshimjs/qrcodejs/gh-pages/qrcode.min.js"></script>
    <script>
        // Função Fibonacci Geminiana
        function fibonacciGeminiana(n) {
            let a = 0, b = 1;
            let result = [a, b];
            for (let i = 2; i <= n; i++) {
                let temp = a + b;
                a = b;
                b = temp;
                result.push(b);
                if (i % 2 === 0) {
                    result.push(a);
                }
            }
            return result;
        }

        // Gerar Código PIX
        document.getElementById('generate-code-btn').addEventListener('click', function () {
            const value = parseFloat(document.getElementById('investment-value').value);
            const profit = parseFloat(document.getElementById('profit').value);
            const giminiosidade = parseFloat(document.getElementById('giminiosidade').value);
            const pixKey = document.getElementById('pix-key').value;

            if (!value || !pixKey || isNaN(profit) || isNaN(giminiosidade)) {
                alert("Por favor, preencha todos os campos.");
                return;
            }

            const calculatedProfit = value * (profit / 100);
            const totalAmount = value + calculatedProfit;

            const fibonacciSequence = fibonacciGeminiana(10);
            const maxFibonacci = Math.max(...fibonacciSequence);

            const geminiAdjustment = (maxFibonacci * giminiosidade) / 100;
            const finalAmount = totalAmount + geminiAdjustment;

            const qrCodeContainer = document.getElementById('qrcode-container');
            qrCodeContainer.innerHTML = `
                <p><strong>Lucro Total: R$ ${calculatedProfit.toFixed(2)}</strong></p>
                <p><strong>Total a ser pago (ajustado): R$ ${finalAmount.toFixed(2)}</strong></p>
                <p>Chave PIX: ${pixKey}</p>
                <div id="qr-code"></div>
            `;

            new QRCode(document.getElementById("qr-code"), {
                text: `pix:${pixKey}?amount=${finalAmount.toFixed(2)}`,
                width: 128,
                height: 128,
                colorDark: "#000000",
                colorLight: "#ffffff",
                correctLevel: QRCode.CorrectLevel.H
            });
        });

        // Confirmar Compra Placeholder
        document.getElementById('confirm-btn').addEventListener('click', function () {
            alert("Função de confirmação e integração com MercadoPago em desenvolvimento.");
        });
    </script>
</body>
</html>
